<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Airy</title>
  
  
  <link href="https://airy6.github.io/atom.xml" rel="self"/>
  
  <link href="https://airy6.github.io/"/>
  <updated>2021-01-01T12:39:02.664Z</updated>
  <id>https://airy6.github.io/</id>
  
  <author>
    <name>Airy</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>PHP ä¸ JavaScript ç«¯ä¹‹é—´çš„åŠ å¯†è§£å¯†</title>
    <link href="https://airy6.github.io/2020/07/07/PHP-%E4%B8%8E-JavaScript-%E7%AB%AF%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86/"/>
    <id>https://airy6.github.io/2020/07/07/PHP-%E4%B8%8E-JavaScript-%E7%AB%AF%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86/</id>
    <published>2020-07-07T04:36:10.000Z</published>
    <updated>2021-01-01T12:39:02.664Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.learnku.com/uploads/images/202007/03/1/HdUs6edXk0.png!large" alt="Laravel"></p><p>åªæ˜¯ä¸ºäº†å¥½ç©ï¼Œè®©æˆ‘ä»¬åœ¨å®¢æˆ·ç«¯JavaScriptä¸­åŠ å¯†ä¸€äº›å†…å®¹ï¼Œç„¶åè®©PHPæœåŠ¡å™¨å¯¹å…¶è¿›è¡Œè§£å¯†ã€‚è¯·æ³¨æ„<strong>è¿™ä¸ªÂ <a href="https://stackoverflow.com/a/12327375/2224584">ä¸ä¼šå–ä»£TLS (HTTPS)</a></strong>.</p><h3 id="ä½¿ç”¨-Nadium-Plus-çš„-JavaScript-åŠ å¯†"><a href="#ä½¿ç”¨-Nadium-Plus-çš„-JavaScript-åŠ å¯†" class="headerlink" title="ä½¿ç”¨ Nadium Plus çš„ JavaScript åŠ å¯†"></a>ä½¿ç”¨ Nadium Plus çš„ JavaScript åŠ å¯†</h3><p>ä½ éœ€è¦Â <a href="https://github.com/paragonie/sodium-plus/releases">æœ€æ–°ç‰ˆçš„ sodium-plus</a>Â ï¼ˆåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œå®ƒæ˜¯Â <a href="https://github.com/paragonie/sodium-plus/releases/tag/v0.4.0">version 0.4.0</a>.)</p><a id="more"></a><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script</span><br><span class="line">  src=<span class="string">&quot;/static/js/sodium-plus.min.js&quot;</span></span><br><span class="line">  integrity=<span class="string">&quot;sha384-lv7SVE0eb0bXA3fgK6PwlhViiUwG6tBuMAhS8XX7RvBvyRcdEdJ8HKtFgs4vHTUh&quot;</span></span><br><span class="line">&gt;&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæ‚¨å°†è¦ç¼–å†™ä¸€äº›JavaScriptä»£ç æ¥åŠ å¯†æ¶ˆæ¯å¹¶å°†å…¶å‘é€åˆ°æœåŠ¡å™¨ã€‚æˆ‘å°†åœ¨æ­¤ç¤ºä¾‹ä¸­ä½¿ç”¨jQueryï¼Œä½†æ˜¯æ‚¨å¯ä»¥è½»æ¾åœ°ä½¿å…¶é€‚åº”ä½¿ç”¨<code>XMLHttpRequest</code>å¯¹è±¡ã€‚</p><p>è®©æˆ‘ä»¬å®šä¹‰ä¸¤ä¸ªå‡½æ•°ã€‚äººä»¬ä»ç¡¬ç¼–ç çš„å­—ç¬¦ä¸²ä¸­åŠ è½½äº†ä¸€ä¸ª<code>CryptographyKey</code>å¯¹è±¡(n.b.æ‚¨ä»ä¸æƒ³çœŸæ­£è¿™æ ·åšï¼Œä½†æ˜¯ä¸ºäº†ç®€å•æ˜“ç”¨çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ç¡¬ç¼–ç çš„ç§˜å¯†)ã€‚å¦ä¸€ä¸ªå®é™…ä¸ŠåŠ å¯†äº†ä¸€æ¡æ¶ˆæ¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–ç¤ºä¾‹å¯†é’¥ã€‚åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œä½ éœ€è¦éšæœºç”Ÿæˆè¿™äº›ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getExampleKey</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">window</span>.sodium) <span class="built_in">window</span>.sodium = <span class="keyword">await</span> SodiumPlus.auto();</span><br><span class="line">    <span class="keyword">return</span> CryptographyKey.from(</span><br><span class="line">        <span class="string">&#x27;e9897cea109576c2f8088c277125d553e4f83afbc0abbb92cfb1f7b776b4fee0&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;hex&#x27;</span></span><br><span class="line">    );</span><br><span class="line">    <span class="comment">// return await sodium.crypto_secretbox_keygen();</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŠ å¯†ä¼ å…¥çš„ message.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">encryptMessage</span>(<span class="params">message, key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">window</span>.sodium) <span class="built_in">window</span>.sodium = <span class="keyword">await</span> SodiumPlus.auto();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> nonce = <span class="keyword">await</span> sodium.randombytes_buf(<span class="number">24</span>);</span><br><span class="line">    <span class="keyword">let</span> encrypted = <span class="keyword">await</span> sodium.crypto_secretbox(message, nonce, key);</span><br><span class="line">    <span class="keyword">return</span> nonce.toString(<span class="string">&#x27;hex&#x27;</span>) + encrypted.toString(<span class="string">&#x27;hex&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæ‚¨å°†è¦ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æ”¶é›†ç”¨æˆ·è¾“å…¥ï¼Œå¯¹å…¶è¿›è¡ŒåŠ å¯†ï¼Œç„¶åå°†å…¶å‘é€åˆ°æœåŠ¡å™¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">sendEncryptedMessage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> key = <span class="keyword">await</span> getExampleKey();</span><br><span class="line">    <span class="keyword">let</span> message = $(<span class="string">&quot;#user-input&quot;</span>).val();</span><br><span class="line">    <span class="keyword">let</span> encrypted = <span class="keyword">await</span> encryptMessage(message, key);</span><br><span class="line">    $.post(<span class="string">&quot;/send-message&quot;</span>, &#123;<span class="string">&quot;message&quot;</span>: encrypted&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(response);</span><br><span class="line">        $(<span class="string">&quot;#output&quot;</span>).append(<span class="string">&quot;&lt;li&gt;&lt;pre&gt;&quot;</span> + response.message + <span class="string">&quot;&lt;/pre&gt;&lt;/li&gt;&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>â€¦ä»¥åŠä¸€äº›æ”¯æŒHTMLçš„å†…å®¹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;user-input&quot;</span>&gt;</span>Type a message to encrypt and send:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">&quot;user-input&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;send-it&quot;</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span>&gt;</span>Send Encrypted Message<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">id</span>=<span class="string">&quot;output&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">$(<span class="string">&quot;#send-it&quot;</span>).on(<span class="string">&#x27;click&#x27;</span>, sendEncryptedMessage);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-Sodium-è§£å¯†-PHP"><a href="#ä½¿ç”¨-Sodium-è§£å¯†-PHP" class="headerlink" title="ä½¿ç”¨ Sodium è§£å¯† PHP"></a>ä½¿ç”¨ Sodium è§£å¯† PHP</h3><p>ä½ éœ€è¦Â <a href="https://github.com/paragonie/sodium_compat">paragonie/sodium_compat</a>.</p><p>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ PHP 7.2 ï¼Œåˆ™å¾ˆæœ‰å¯èƒ½åªä½¿ç”¨å†…ç½®çš„Â <code>sodium_*</code>Â å‡½æ•°ã€‚ä½†æ˜¯ï¼Œé»˜è®¤æƒ…å†µä¸‹æŸäº›å‘è¡Œç‰ˆ <em>å¯èƒ½</em> é”™è¯¯åœ°ç¦ç”¨äº†é’ æ‰©å±•åã€‚å› æ­¤ï¼Œä¸ºäº†å®‰å…¨èµ·è§ï¼Œæ— è®ºå¦‚ä½•éƒ½è¦å®‰è£…sodium_compatã€‚</p><p>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯æ¡†æ¶(Symfonyï¼ŒLaravel)ï¼Œæ‚¨çš„ä»£ç çœ‹èµ·æ¥ä¼šå¹²å‡€å¾ˆå¤šï¼Œä½†æ˜¯ä¸ºäº†è¯´æ˜èµ·è§ï¼Œè§£å¯†ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">declare</span>(strict_types=<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">require</span> <span class="string">&#x27;vendor/autoload.php&#x27;</span>; <span class="comment">// Composer</span></span><br><span class="line"></span><br><span class="line">header(<span class="string">&#x27;Content-Type: application/json&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$key</span> = sodium_hex2bin(<span class="string">&#x27;e9897cea109576c2f8088c277125d553e4f83afbc0abbb92cfb1f7b776b4fee0&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$encrypted</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;message&#x27;</span>] ?? <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$encrypted</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> json_encode(</span><br><span class="line">        [<span class="string">&#x27;message&#x27;</span> =&gt; <span class="literal">null</span>, <span class="string">&#x27;error&#x27;</span> =&gt; <span class="string">&#x27;no message provided&#x27;</span>],</span><br><span class="line">        JSON_PRETTY_PRINT</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$nonce</span> = sodium_hex2bin(substr(<span class="variable">$encrypted</span>, <span class="number">0</span>, <span class="number">48</span>));</span><br><span class="line"><span class="variable">$ciphertext</span> = sodium_hex2bin(substr(<span class="variable">$encrypted</span>, <span class="number">48</span>));</span><br><span class="line"><span class="variable">$plaintext</span> = sodium_crypto_secretbox_open(<span class="variable">$ciphertext</span>, <span class="variable">$nonce</span>, <span class="variable">$key</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> json_encode(</span><br><span class="line">    [<span class="string">&#x27;message&#x27;</span> =&gt; <span class="variable">$plaintext</span>, <span class="string">&#x27;original&#x27;</span> =&gt; <span class="variable">$encrypted</span>],</span><br><span class="line">    JSON_PRETTY_PRINT</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æŠŠå®ƒæ”¾åœ¨ä¸€èµ·"><a href="#æŠŠå®ƒæ”¾åœ¨ä¸€èµ·" class="headerlink" title="æŠŠå®ƒæ”¾åœ¨ä¸€èµ·"></a>æŠŠå®ƒæ”¾åœ¨ä¸€èµ·</h3><p>å½“æ‚¨é”®å…¥ä¸€æ¡æ¶ˆæ¯å¹¶æŒ‰ä¸‹æŒ‰é’®æ—¶ï¼Œå®ƒå°†å¯¹å…¶è¿›è¡ŒåŠ å¯†å¹¶å°†åå…­è¿›åˆ¶ç¼–ç çš„å­—ç¬¦ä¸²å‘é€åˆ°æœåŠ¡å™¨ã€‚</p><p>ç„¶åï¼ŒPHPä»£ç å°†è§£å¯†æ¶ˆæ¯å¹¶ä»¥JSONå“åº”è¿”å›çº¯æ–‡æœ¬ã€‚</p><p>ç„¶åï¼ŒJavaScriptä»£ç å°†ä»JSONå“åº”ä¸­è·å–çº¯æ–‡æœ¬ï¼Œå¹¶å°†å…¶é™„åŠ åˆ°è¡¨å•ä¸‹æ–¹çš„è¾“å‡ºå­—æ®µã€‚</p><h2 id="å®‰å…¨è€ƒè™‘å› ç´ "><a href="#å®‰å…¨è€ƒè™‘å› ç´ " class="headerlink" title="å®‰å…¨è€ƒè™‘å› ç´ "></a>å®‰å…¨è€ƒè™‘å› ç´ </h2><p>è¿™åªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œç”¨æ¥è¯´æ˜å¦‚ä½•ä½¿ç”¨Â <a href="https://github.com/paragonie/sodium-plus">sodium-plus</a>ï¼ˆJavaScriptï¼‰å’Œ libsodiumï¼ˆPHPï¼‰æ¥åŠ å¯†/è§£å¯†æ¶ˆæ¯.</p><p>æˆ‘ä»¬ä½¿ç”¨äº†å¾ˆå¤š<em>çš„</em>å¿«æ·æ–¹å¼ï¼Œè¿™äº›å¿«æ·æ–¹å¼æ˜¯æ‚¨åœ¨å®é™…ç³»ç»Ÿä¸­ä¸å¸Œæœ›ä½¿ç”¨çš„ï¼ˆä¾‹å¦‚ï¼šå¯¹åŠ å¯†å¯†é’¥è¿›è¡Œç¡¬ç¼–ç ï¼Œå¹¶ä¸ºäº†ç®€æ´è€Œé¿å…è¿›è¡Œé”™è¯¯æ£€æŸ¥ï¼‰ã€‚</p><p>å¦‚æœæ‚¨æƒ³åšæ›´é«˜çº§çš„äº‹æƒ… (<a href="https://github.com/paragonie/sodium-plus/blob/master/docs/SodiumPlus/sealed-boxes.md">JavaScriptä¸­çš„å…¬é’¥åŠ å¯†</a>Â å’ŒÂ <a href="https://paragonie.com/book/pecl-libsodium/read/08-advanced.md#crypto-box-seal">ä¸€è‡´çš„PHPå‡½æ•°</a>), è¯¥æ–‡æ¡£å¯åœ¨çº¿å…è´¹è·å¾—ã€‚</p><blockquote><p>è½¬è½½äº <a href="https://learnku.com/laravel/t/46851">https://learnku.com/laravel/t/46851</a></p></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.learnku.com/uploads/images/202007/03/1/HdUs6edXk0.png!large&quot; alt=&quot;Laravel&quot;&gt;&lt;/p&gt;
&lt;p&gt;åªæ˜¯ä¸ºäº†å¥½ç©ï¼Œè®©æˆ‘ä»¬åœ¨å®¢æˆ·ç«¯JavaScriptä¸­åŠ å¯†ä¸€äº›å†…å®¹ï¼Œç„¶åè®©PHPæœåŠ¡å™¨å¯¹å…¶è¿›è¡Œè§£å¯†ã€‚è¯·æ³¨æ„&lt;strong&gt;è¿™ä¸ªÂ &lt;a href=&quot;https://stackoverflow.com/a/12327375/2224584&quot;&gt;ä¸ä¼šå–ä»£TLS (HTTPS)&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;h3 id=&quot;ä½¿ç”¨-Nadium-Plus-çš„-JavaScript-åŠ å¯†&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨-Nadium-Plus-çš„-JavaScript-åŠ å¯†&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨ Nadium Plus çš„ JavaScript åŠ å¯†&quot;&gt;&lt;/a&gt;ä½¿ç”¨ Nadium Plus çš„ JavaScript åŠ å¯†&lt;/h3&gt;&lt;p&gt;ä½ éœ€è¦Â &lt;a href=&quot;https://github.com/paragonie/sodium-plus/releases&quot;&gt;æœ€æ–°ç‰ˆçš„ sodium-plus&lt;/a&gt;Â ï¼ˆåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œå®ƒæ˜¯Â &lt;a href=&quot;https://github.com/paragonie/sodium-plus/releases/tag/v0.4.0&quot;&gt;version 0.4.0&lt;/a&gt;.)&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>æ¸¸æˆ [è‹±é›„å¡” Heroes Tower] å¼€å‘å‰æ„æ€</title>
    <link href="https://airy6.github.io/2020/07/06/%E6%B8%B8%E6%88%8F-%E8%8B%B1%E9%9B%84%E5%A1%94-Heroes-Tower-%E5%BC%80%E5%8F%91%E5%89%8D%E6%9E%84%E6%80%9D/"/>
    <id>https://airy6.github.io/2020/07/06/%E6%B8%B8%E6%88%8F-%E8%8B%B1%E9%9B%84%E5%A1%94-Heroes-Tower-%E5%BC%80%E5%8F%91%E5%89%8D%E6%9E%84%E6%80%9D/</id>
    <published>2020-07-06T14:29:03.000Z</published>
    <updated>2021-01-01T11:59:33.198Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘é—²æ¥æ— äº‹ï¼Œå‡†å¤‡ä½œä¸ªç®€å•çš„æ¸¸æˆæ¥å­¦ä¹ ä¸€äº›æ–°çš„æŠ€æœ¯ï¼Œä¹Ÿç»™è‡ªå·±å®šä¸‹å‡ ä¸ªè¿‘æœŸç›®æ ‡ï¼Œæ¥ç£ä¿ƒè‡ªå·±ã€‚</p><p>æ¸¸æˆçš„ç±»å‹è¿˜æ²¡æœ‰å®Œå…¨çš„ç¡®å®šï¼Œç›®å‰çš„æƒ³æ³•åªæ˜¯åšä¸€ä¸ªï¼Œé€‰æ‹©è‹±é›„æ¥é—¯å…³ã€å†²å¡”ã€æ‰“æ€ªçš„æ¸¸æˆæ¨¡å¼ã€‚ä»¥åå¯èƒ½ä¼šå¢åŠ æ¸¸æˆçš„å¯ç©æ€§ï¼Œå‡ºæ›´å¤šçš„è‹±é›„å’Œæ¸¸æˆæ¨¡å¼ã€‚</p><a id="more"></a><p>å› ä¸ºå‰ç«¯æŠ€æœ¯çš„ä¸è¶³ï¼Œæ‰€ä»¥å‡†å¤‡åšæˆä¸€ä¸ªæ–‡æœ¬æ¸¸æˆã€‚</p><p>å¤§æ¦‚å†…å®¹å¦‚ä¸‹ï¼Œç©å®¶å¯ä»¥é€‰æ‹©ä¸€ä¸ªè‹±é›„ï¼ˆä»¥åå¯èƒ½ä¼šè€ƒè™‘å¢åŠ å¤šè‹±é›„é…åˆçš„æ¨¡å¼ï¼‰æ¥ä½œä¸ºæ¸¸æˆçš„ä¸»è§’ï¼Œæ§åˆ¶è‹±é›„è¿›è¡Œæ¸¸æˆã€‚</p><p>æ¯ç§ä¸åŒçš„è‹±é›„æ‹¥æœ‰å„è‡ªçš„ä¸åŒå±æ€§å’ŒæŠ€èƒ½ï¼ˆæš‚å®šä¸ºä¸‰ä¸ªï¼‰å±æ€§å¤§æ¦‚å°±æ˜¯ï¼šç”Ÿå‘½å€¼ã€æ³•åŠ›å€¼ã€æ”»å‡»åŠ›ã€é­”æ³•å¼ºåº¦ã€ç‰©ç†æŠ—æ€§ã€é­”æ³•æŠ—æ€§ç­‰ã€‚</p><p>ç­‰çº§æš‚å®šä¸º30çº§ï¼Œå¯ä»¥é€šè¿‡æ‰“æ€ªè¿›è¡Œå‡çº§ã€‚æ¯ä¸ªè‹±é›„éƒ½æœ‰ä¸åŒçš„éšç­‰çº§æå‡æˆé•¿çš„å±æ€§å€¼ï¼Œé€šè¿‡å‡çº§æˆ–ç©¿æˆ´è£…å¤‡å¯ä»¥å¢åŠ è¿™äº›æ•°å€¼ã€‚é“å…·åˆ™æ˜¯å¤šåŠŸèƒ½çš„ï¼Œå¯ä»¥æ˜¯ï¼šçŸ­æš‚å¢åŠ è‹±é›„å±æ€§ï¼Œå›å¤è‹±é›„æ•°å€¼ï¼Œæå‡ç­‰çº§ï¼Œå¤æ´»ç­‰ã€‚</p><p>æ¯å±‚å¡”éƒ½ä¼šæœ‰ä¸åŒçš„æ€ªç‰©å’ŒBOOSæˆ–è€…æ²¡æœ‰BOOSï¼Œæ¯å±‚å’Œæ¯ç§æ€ªéƒ½ä¼šæä¾›ä¸åŒçš„ç­‰çº§ç”šè‡³ä¼šæ‰è½ä¸“å±è£…å¤‡å’Œé“å…·ã€‚</p><p>å½“ç„¶ï¼Œä¸ºäº†æ¸¸æˆçš„å¯ç©æ€§ï¼Œçˆ†ç‡ä¼šæ§åˆ¶åœ¨ä¸€ä¸ªè¾ƒä½èŒƒå›´å†…ï¼Œæ‰è½çš„ç‰©å“ä¹Ÿæ˜¯æ¦‚ç‡æ€§çš„ã€‚å°½é‡é¿å…å‡ºç°é—¯å…³éš¾åº¦è¿‡ä½æˆ–è¿‡é«˜çš„æƒ…å†µã€‚</p><p>æš‚æ—¶å…ˆå°±è¿™ä¹ˆå¤šï¼Œå†è€ƒè™‘ä¸€ä¸‹å…¶ä»–å› ç´ ï¼Œçœ‹çœ‹éœ€è¦å¢åŠ æˆ–è€…ä¿®æ”¹ç”šè‡³åˆ é™¤å“ªä¸ªéƒ¨åˆ†ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ€è¿‘é—²æ¥æ— äº‹ï¼Œå‡†å¤‡ä½œä¸ªç®€å•çš„æ¸¸æˆæ¥å­¦ä¹ ä¸€äº›æ–°çš„æŠ€æœ¯ï¼Œä¹Ÿç»™è‡ªå·±å®šä¸‹å‡ ä¸ªè¿‘æœŸç›®æ ‡ï¼Œæ¥ç£ä¿ƒè‡ªå·±ã€‚&lt;/p&gt;
&lt;p&gt;æ¸¸æˆçš„ç±»å‹è¿˜æ²¡æœ‰å®Œå…¨çš„ç¡®å®šï¼Œç›®å‰çš„æƒ³æ³•åªæ˜¯åšä¸€ä¸ªï¼Œé€‰æ‹©è‹±é›„æ¥é—¯å…³ã€å†²å¡”ã€æ‰“æ€ªçš„æ¸¸æˆæ¨¡å¼ã€‚ä»¥åå¯èƒ½ä¼šå¢åŠ æ¸¸æˆçš„å¯ç©æ€§ï¼Œå‡ºæ›´å¤šçš„è‹±é›„å’Œæ¸¸æˆæ¨¡å¼ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="Heroes Tower" scheme="https://airy6.github.io/tags/Heroes-Tower/"/>
    
  </entry>
  
  <entry>
    <title>Laravel å¯¹å…³è”è¡¨çš„ä¸€äº›æ“ä½œ</title>
    <link href="https://airy6.github.io/2020/07/06/Laravel%20%E5%AF%B9%E5%85%B3%E8%81%94%E8%A1%A8%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/"/>
    <id>https://airy6.github.io/2020/07/06/Laravel%20%E5%AF%B9%E5%85%B3%E8%81%94%E8%A1%A8%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/</id>
    <published>2020-07-06T14:21:48.000Z</published>
    <updated>2021-01-01T11:58:48.782Z</updated>
    
    <content type="html"><![CDATA[<p>Laravel ä¸ºå¼€å‘è€…æä¾›äº†çµæ´»ä¸”ä¼˜é›…çš„ model å±‚ã€‚ä¸è¿‡ï¼Œå› ä¸ºæ–¹æ³•å¤ªå¤šï¼Œæœ‰æ—¶æ€»æ˜¯å¿˜è®°ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•ã€‚è¿™é‡Œå°±ä¸€å¯¹å¤šæ¨¡å‹å…³è”çš„ä¸­å¯¹å…³è”è¡¨çš„ä¸€ä¸ªæ–¹æ³• with çš„ç”¨æ³•åšä¸€ä¸ªè®°å½•</p><p>åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œç»å¸¸ä¼šæœ‰è¿™æ ·çš„åœºæ™¯ï¼Œä¸€ä¸ªç”¨æˆ·ä¸Šä¼ æœ‰å¤šä¸ªå›¾ç‰‡ï¼Œè€Œå›¾ç‰‡åªå½’å±äºä¸€ä¸ªç”¨æˆ·ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä¸€å¯¹å¤šå…³è”ï¼Œå‡è®¾ç”¨æˆ·è¡¨ users å’Œ å›¾ç‰‡è¡¨ imagesã€‚images è¡¨ä¸­æœ‰ä¸€ä¸ªuser_id å­—æ®µç”¨æ¥æ ‡è®°å›¾ç‰‡æ‰€å±çš„ç”¨æˆ·ã€‚</p><a id="more"></a><p>åœ¨ users æ¨¡å‹ä¸­åˆ›å»ºå…³è”ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å…³è”å›¾ç‰‡è¡¨</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">images</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;ï»¿</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;hasMany(Images::class, <span class="string">&#x27;user_id&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶è®¿é—®é›†åˆä¸­çš„ images å±æ€§å°±å¯ä»¥è®¿é—®åˆ°æ‰€æœ‰å±äºæ­¤ç”¨æˆ·çš„å›¾ç‰‡äº†ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$user</span>   = User::where(<span class="string">&#x27;id&#x27;</span>, <span class="variable">$userId</span>))-&gt;first();</span><br><span class="line"><span class="comment">// è¿™é‡Œæœ€å¥½åŠ ä¸Šåˆ¤æ–­ï¼Œå¦‚æœæ˜¯ null å°±ä¸å­˜åœ¨ images å±æ€§</span></span><br><span class="line"><span class="variable">$images</span> = <span class="variable">$user</span>-&gt;images;<span class="comment">// è¿™å°±æ˜¯è¿™ä¸ªç”¨æˆ·çš„æ‰€æœ‰å›¾ç‰‡</span></span><br></pre></td></tr></table></figure><p>ç„¶è€Œï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¸éœ€è¦å–å‡º images è¡¨çš„æ‰€æœ‰å­—æ®µï¼Œæˆ‘ä»¬åªéœ€è¦ path ä¸€ä¸ªå­—æ®µå³å¯ã€‚</p><p>ä½†å¦‚æœç›´æ¥ä½¿ç”¨ select([â€˜pathâ€™]) æ–¹æ³•çš„è¯ï¼Œæ˜¯æŸ¥æ‰¾çš„ users è¡¨ä¸­çš„ path å­—æ®µï¼Œç„¶è€Œ users è¡¨ä¸­å¹¶ä¸å­˜åœ¨ path å­—æ®µï¼Œè¿™æ ·ä½¿ç”¨ä¼šäº§ç”Ÿé”™è¯¯ï¼Œè¿™æ ·å°±éœ€è¦ç”¨åˆ°ä¸‹é¢çš„æ–¹æ³•ã€‚</p><blockquote><p>å…³äºé¢„åŠ è½½ç”¨æ³•å¯ä»¥å‚è€ƒ <a href="https://learnku.com/docs/laravel/6.x/eloquent-relationships/5177#012e7e">æ–‡æ¡£</a></p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$images</span> = User::getAnchorByUuid(<span class="variable">$request</span>-&gt;get(<span class="string">&#x27;uuid&#x27;</span>))</span><br><span class="line">            -&gt;with([</span><br><span class="line">                <span class="string">&#x27;images&#x27;</span> =&gt; <span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$query</span></span>) </span>&#123;</span><br><span class="line">                    <span class="variable">$query</span>-&gt;select([<span class="string">&#x27;path&#x27;</span>, <span class="string">&#x27;user_id&#x27;</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            ])</span><br><span class="line">            -&gt;first()</span><br><span class="line">            -&gt;images;</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$images</span> = User::where(<span class="string">&#x27;id&#x27;</span>, <span class="variable">$request</span>-&gt;get(<span class="string">&#x27;uuid&#x27;</span>))</span><br><span class="line">            -&gt;with(<span class="string">&#x27;images:path,user_id&#x27;</span>)</span><br><span class="line">            -&gt;first()</span><br><span class="line">            -&gt;images;</span><br></pre></td></tr></table></figure><p>with å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æˆ–è€…æ•°ç»„ï¼Œæ•°ç»„çš„å€¼å¯ä»¥æ˜¯é—­åŒ…å‡½æ•°ï¼Œç¬¬ä¸€ç§æ–¹å¼æ›´åŠ çµæ´»ï¼Œç¬¬äºŒç§åˆ™æ›´åŠ ç®€ä¾¿ï¼Œé—­åŒ…ä¸­å¯ä»¥ä½¿ç”¨æ›´å¤šçš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$images</span> = User::getAnchorByUuid(<span class="variable">$request</span>-&gt;get(<span class="string">&#x27;uuid&#x27;</span>))</span><br><span class="line">            -&gt;with([</span><br><span class="line">                <span class="string">&#x27;images&#x27;</span> =&gt; <span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$query</span></span>) </span>&#123;</span><br><span class="line">                    <span class="variable">$query</span>-&gt;orderByDesc(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">                    <span class="variable">$query</span>-&gt;where(<span class="string">&#x27;status&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            ]);</span><br></pre></td></tr></table></figure><p>æœ¬ç¯‡æ–‡ç« å°±åˆ°æ­¤ç»“æŸäº†ï¼Œä¸»è¦ç›®çš„æ˜¯ä¸ºäº†è®°å½•ä¸€ä¸‹ with çš„ç”¨æ³•ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Laravel ä¸ºå¼€å‘è€…æä¾›äº†çµæ´»ä¸”ä¼˜é›…çš„ model å±‚ã€‚ä¸è¿‡ï¼Œå› ä¸ºæ–¹æ³•å¤ªå¤šï¼Œæœ‰æ—¶æ€»æ˜¯å¿˜è®°ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•ã€‚è¿™é‡Œå°±ä¸€å¯¹å¤šæ¨¡å‹å…³è”çš„ä¸­å¯¹å…³è”è¡¨çš„ä¸€ä¸ªæ–¹æ³• with çš„ç”¨æ³•åšä¸€ä¸ªè®°å½•&lt;/p&gt;
&lt;p&gt;åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œç»å¸¸ä¼šæœ‰è¿™æ ·çš„åœºæ™¯ï¼Œä¸€ä¸ªç”¨æˆ·ä¸Šä¼ æœ‰å¤šä¸ªå›¾ç‰‡ï¼Œè€Œå›¾ç‰‡åªå½’å±äºä¸€ä¸ªç”¨æˆ·ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä¸€å¯¹å¤šå…³è”ï¼Œå‡è®¾ç”¨æˆ·è¡¨ users å’Œ å›¾ç‰‡è¡¨ imagesã€‚images è¡¨ä¸­æœ‰ä¸€ä¸ªuser_id å­—æ®µç”¨æ¥æ ‡è®°å›¾ç‰‡æ‰€å±çš„ç”¨æˆ·ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Laravel" scheme="https://airy6.github.io/categories/Laravel/"/>
    
    
    <category term="Laravel" scheme="https://airy6.github.io/tags/Laravel/"/>
    
  </entry>
  
  <entry>
    <title>è°ƒä¼‘çš„ä¸€å¤©</title>
    <link href="https://airy6.github.io/2020/01/11/%E8%B0%83%E4%BC%91%E7%9A%84%E4%B8%80%E5%A4%A9/"/>
    <id>https://airy6.github.io/2020/01/11/%E8%B0%83%E4%BC%91%E7%9A%84%E4%B8%80%E5%A4%A9/</id>
    <published>2020-01-11T07:30:21.000Z</published>
    <updated>2021-01-01T11:59:40.567Z</updated>
    
    <content type="html"><![CDATA[<p>å‘¨å…­ï¼Œæœ¬æ¥è¦ä¼‘æ¯çš„æ—¥å­ï¼Œæˆ‘å´è¿˜åœ¨ä¸Šç­ğŸ˜‚</p><a id="more"></a><p>ä¸è¿‡ä¸æ˜¯åŠ ç­ï¼Œè°è®©æˆ‘ä¸Šæ¬¡è°ƒä¼‘ä¼‘æ¯è¿‡äº†ã€‚è®©æˆ‘æƒ³èµ·ä¸€å¥ç»å…¸å°è¯â€œå‡ºæ¥æ··ï¼Œè¿Ÿæ—©è¦è¿˜çš„â€è¿™ä¸ã€‚æ¥è¡¥ç­äº†å˜›ã€‚</p><p>ä¸è¿‡ä¹ŸæŒºå¥½ï¼Œäººå°‘æ¸…å‡€ï¼Œå°±è¿å¹³æ—¶é¢†å¯¼åœ¨æ—¶è·Ÿåªé¸¡å´½ä¸€æ ·çš„åŒäº‹ï¼Œéƒ½å¤§èƒ†çš„ç©èµ·äº†æ¸¸æˆã€‚çœŸèœï¼</p><p><img src="http://blog.chongyunct.com/storage/canvas/images/t2804JlgNcRG7D8rwAeaHHNMMxTjhYqNU5ynCGlY.png" alt="avatar"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å‘¨å…­ï¼Œæœ¬æ¥è¦ä¼‘æ¯çš„æ—¥å­ï¼Œæˆ‘å´è¿˜åœ¨ä¸Šç­ğŸ˜‚&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
</feed>
