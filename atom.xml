<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Airy</title>
  
  
  <link href="https://airy6.github.io/atom.xml" rel="self"/>
  
  <link href="https://airy6.github.io/"/>
  <updated>2021-01-01T11:58:48.782Z</updated>
  <id>https://airy6.github.io/</id>
  
  <author>
    <name>Airy</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Laravel å¯¹å…³è”è¡¨çš„ä¸€äº›æ“ä½œ</title>
    <link href="https://airy6.github.io/2020/07/06/Laravel%20%E5%AF%B9%E5%85%B3%E8%81%94%E8%A1%A8%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/"/>
    <id>https://airy6.github.io/2020/07/06/Laravel%20%E5%AF%B9%E5%85%B3%E8%81%94%E8%A1%A8%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/</id>
    <published>2020-07-06T14:21:48.000Z</published>
    <updated>2021-01-01T11:58:48.782Z</updated>
    
    <content type="html"><![CDATA[<p>Laravel ä¸ºå¼€å‘è€…æä¾›äº†çµæ´»ä¸”ä¼˜é›…çš„ model å±‚ã€‚ä¸è¿‡ï¼Œå› ä¸ºæ–¹æ³•å¤ªå¤šï¼Œæœ‰æ—¶æ€»æ˜¯å¿˜è®°ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•ã€‚è¿™é‡Œå°±ä¸€å¯¹å¤šæ¨¡å‹å…³è”çš„ä¸­å¯¹å…³è”è¡¨çš„ä¸€ä¸ªæ–¹æ³• with çš„ç”¨æ³•åšä¸€ä¸ªè®°å½•</p><p>åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œç»å¸¸ä¼šæœ‰è¿™æ ·çš„åœºæ™¯ï¼Œä¸€ä¸ªç”¨æˆ·ä¸Šä¼ æœ‰å¤šä¸ªå›¾ç‰‡ï¼Œè€Œå›¾ç‰‡åªå½’å±äºä¸€ä¸ªç”¨æˆ·ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä¸€å¯¹å¤šå…³è”ï¼Œå‡è®¾ç”¨æˆ·è¡¨ users å’Œ å›¾ç‰‡è¡¨ imagesã€‚images è¡¨ä¸­æœ‰ä¸€ä¸ªuser_id å­—æ®µç”¨æ¥æ ‡è®°å›¾ç‰‡æ‰€å±çš„ç”¨æˆ·ã€‚</p><a id="more"></a><p>åœ¨ users æ¨¡å‹ä¸­åˆ›å»ºå…³è”ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å…³è”å›¾ç‰‡è¡¨</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">images</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;ï»¿</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;hasMany(Images::class, <span class="string">&#x27;user_id&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶è®¿é—®é›†åˆä¸­çš„ images å±æ€§å°±å¯ä»¥è®¿é—®åˆ°æ‰€æœ‰å±äºæ­¤ç”¨æˆ·çš„å›¾ç‰‡äº†ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$user</span>   = User::where(<span class="string">&#x27;id&#x27;</span>, <span class="variable">$userId</span>))-&gt;first();</span><br><span class="line"><span class="comment">// è¿™é‡Œæœ€å¥½åŠ ä¸Šåˆ¤æ–­ï¼Œå¦‚æœæ˜¯ null å°±ä¸å­˜åœ¨ images å±æ€§</span></span><br><span class="line"><span class="variable">$images</span> = <span class="variable">$user</span>-&gt;images;<span class="comment">// è¿™å°±æ˜¯è¿™ä¸ªç”¨æˆ·çš„æ‰€æœ‰å›¾ç‰‡</span></span><br></pre></td></tr></table></figure><p>ç„¶è€Œï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¸éœ€è¦å–å‡º images è¡¨çš„æ‰€æœ‰å­—æ®µï¼Œæˆ‘ä»¬åªéœ€è¦ path ä¸€ä¸ªå­—æ®µå³å¯ã€‚</p><p>ä½†å¦‚æœç›´æ¥ä½¿ç”¨ select([â€˜pathâ€™]) æ–¹æ³•çš„è¯ï¼Œæ˜¯æŸ¥æ‰¾çš„ users è¡¨ä¸­çš„ path å­—æ®µï¼Œç„¶è€Œ users è¡¨ä¸­å¹¶ä¸å­˜åœ¨ path å­—æ®µï¼Œè¿™æ ·ä½¿ç”¨ä¼šäº§ç”Ÿé”™è¯¯ï¼Œè¿™æ ·å°±éœ€è¦ç”¨åˆ°ä¸‹é¢çš„æ–¹æ³•ã€‚</p><blockquote><p>å…³äºé¢„åŠ è½½ç”¨æ³•å¯ä»¥å‚è€ƒ <a href="https://learnku.com/docs/laravel/6.x/eloquent-relationships/5177#012e7e">æ–‡æ¡£</a></p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$images</span> = User::getAnchorByUuid(<span class="variable">$request</span>-&gt;get(<span class="string">&#x27;uuid&#x27;</span>))</span><br><span class="line">            -&gt;with([</span><br><span class="line">                <span class="string">&#x27;images&#x27;</span> =&gt; <span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$query</span></span>) </span>&#123;</span><br><span class="line">                    <span class="variable">$query</span>-&gt;select([<span class="string">&#x27;path&#x27;</span>, <span class="string">&#x27;user_id&#x27;</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            ])</span><br><span class="line">            -&gt;first()</span><br><span class="line">            -&gt;images;</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$images</span> = User::where(<span class="string">&#x27;id&#x27;</span>, <span class="variable">$request</span>-&gt;get(<span class="string">&#x27;uuid&#x27;</span>))</span><br><span class="line">            -&gt;with(<span class="string">&#x27;images:path,user_id&#x27;</span>)</span><br><span class="line">            -&gt;first()</span><br><span class="line">            -&gt;images;</span><br></pre></td></tr></table></figure><p>with å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æˆ–è€…æ•°ç»„ï¼Œæ•°ç»„çš„å€¼å¯ä»¥æ˜¯é—­åŒ…å‡½æ•°ï¼Œç¬¬ä¸€ç§æ–¹å¼æ›´åŠ çµæ´»ï¼Œç¬¬äºŒç§åˆ™æ›´åŠ ç®€ä¾¿ï¼Œé—­åŒ…ä¸­å¯ä»¥ä½¿ç”¨æ›´å¤šçš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$images</span> = User::getAnchorByUuid(<span class="variable">$request</span>-&gt;get(<span class="string">&#x27;uuid&#x27;</span>))</span><br><span class="line">            -&gt;with([</span><br><span class="line">                <span class="string">&#x27;images&#x27;</span> =&gt; <span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$query</span></span>) </span>&#123;</span><br><span class="line">                    <span class="variable">$query</span>-&gt;orderByDesc(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">                    <span class="variable">$query</span>-&gt;where(<span class="string">&#x27;status&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            ]);</span><br></pre></td></tr></table></figure><p>æœ¬ç¯‡æ–‡ç« å°±åˆ°æ­¤ç»“æŸäº†ï¼Œä¸»è¦ç›®çš„æ˜¯ä¸ºäº†è®°å½•ä¸€ä¸‹ with çš„ç”¨æ³•ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Laravel ä¸ºå¼€å‘è€…æä¾›äº†çµæ´»ä¸”ä¼˜é›…çš„ model å±‚ã€‚ä¸è¿‡ï¼Œå› ä¸ºæ–¹æ³•å¤ªå¤šï¼Œæœ‰æ—¶æ€»æ˜¯å¿˜è®°ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•ã€‚è¿™é‡Œå°±ä¸€å¯¹å¤šæ¨¡å‹å…³è”çš„ä¸­å¯¹å…³è”è¡¨çš„ä¸€ä¸ªæ–¹æ³• with çš„ç”¨æ³•åšä¸€ä¸ªè®°å½•&lt;/p&gt;
&lt;p&gt;åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œç»å¸¸ä¼šæœ‰è¿™æ ·çš„åœºæ™¯ï¼Œä¸€ä¸ªç”¨æˆ·ä¸Šä¼ æœ‰å¤šä¸ªå›¾ç‰‡ï¼Œè€Œå›¾ç‰‡åªå½’å±äºä¸€ä¸ªç”¨æˆ·ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä¸€å¯¹å¤šå…³è”ï¼Œå‡è®¾ç”¨æˆ·è¡¨ users å’Œ å›¾ç‰‡è¡¨ imagesã€‚images è¡¨ä¸­æœ‰ä¸€ä¸ªuser_id å­—æ®µç”¨æ¥æ ‡è®°å›¾ç‰‡æ‰€å±çš„ç”¨æˆ·ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Laravel" scheme="https://airy6.github.io/categories/Laravel/"/>
    
    
    <category term="Laravel" scheme="https://airy6.github.io/tags/Laravel/"/>
    
  </entry>
  
  <entry>
    <title>è°ƒä¼‘çš„ä¸€å¤©</title>
    <link href="https://airy6.github.io/2020/01/11/%E8%B0%83%E4%BC%91%E7%9A%84%E4%B8%80%E5%A4%A9/"/>
    <id>https://airy6.github.io/2020/01/11/%E8%B0%83%E4%BC%91%E7%9A%84%E4%B8%80%E5%A4%A9/</id>
    <published>2020-01-11T07:30:21.000Z</published>
    <updated>2021-01-03T04:00:50.110Z</updated>
    
    <content type="html"><![CDATA[<p>å‘¨å…­ï¼Œæœ¬æ¥è¦ä¼‘æ¯çš„æ—¥å­ï¼Œæˆ‘å´è¿˜åœ¨ä¸Šç­ğŸ˜‚</p><a id="more"></a><p>ä¸è¿‡ä¸æ˜¯åŠ ç­ï¼Œè°è®©æˆ‘ä¸Šæ¬¡è°ƒä¼‘ä¼‘æ¯è¿‡äº†ã€‚è®©æˆ‘æƒ³èµ·ä¸€å¥ç»å…¸å°è¯â€œå‡ºæ¥æ··ï¼Œè¿Ÿæ—©è¦è¿˜çš„â€è¿™ä¸ã€‚æ¥è¡¥ç­äº†å˜›ã€‚</p><p>ä¸è¿‡ä¹ŸæŒºå¥½ï¼Œäººå°‘æ¸…å‡€ï¼Œå°±è¿å¹³æ—¶é¢†å¯¼åœ¨æ—¶è·Ÿåªé¸¡å´½ä¸€æ ·çš„åŒäº‹ï¼Œéƒ½å¤§èƒ†çš„ç©èµ·äº†æ¸¸æˆã€‚çœŸèœï¼</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å‘¨å…­ï¼Œæœ¬æ¥è¦ä¼‘æ¯çš„æ—¥å­ï¼Œæˆ‘å´è¿˜åœ¨ä¸Šç­ğŸ˜‚&lt;/p&gt;</summary>
    
    
    
    <category term="æ•£äº‹" scheme="https://airy6.github.io/categories/%E6%95%A3%E4%BA%8B/"/>
    
    
  </entry>
  
</feed>
